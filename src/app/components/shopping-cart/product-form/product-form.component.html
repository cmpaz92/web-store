<div class="container productform">
  <h2>Create Product</h2>
  <div *ngIf="error" class="alert alert-danger">
    <pre>{{ error.message | json }}</pre>
  </div>

  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <div class="form-group">
      <label>Name</label>
      <input class="form-control" formControlName="name" id="name">
      <div *ngIf="form.get('name').hasError('required')" class="invalid-feedback d-block">Required</div>
    </div>
    <div class="form-group">
      <label>Description</label>
      <input class="form-control" formControlName="description" id="description">
      <div *ngIf="form.get('description').hasError('required')" class="invalid-feedback d-block">Required</div>
    </div>
    <div class="form-group">
      <label>Price</label>
      <input class="form-control" formControlName="price" id="price">
      <div *ngIf="form.get('price').hasError('required')" class="invalid-feedback d-block">Required</div>
    </div>
    <div class="form-group">
      <label for="category">Category</label>
      <select class="custom-select" formControlName="category" id="category" name="category">
        <option disabled selected value> -- select a category --</option>
        <option *ngFor="let i of categories" value="{{i._id}}">{{i.name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Upload File:</label>
      <input (change)="createFormData($event)" class="form-control" disabled formControlName="media" id="media"
             type="file">
      <div *ngIf="form.get('media').hasError('required')" class="invalid-feedback d-block">Required</div>
    </div>
    <button class="btn btn-primary" type="submit">Create</button>
  </form>
</div>
